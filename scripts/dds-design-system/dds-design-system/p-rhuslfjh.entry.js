import{r as t,d as s,h as o,H as i}from"./p-31571bfb.js";import"./p-22701f9d.js";import"./p-6a55da7d.js";import"./p-96d88537.js";import"./p-0686f415.js";const e=class{constructor(o){t(this,o),this.cascadingMenu=[],this.isDragged=!1,this.isDropDownMouseHovering=!1,this.isDropDownFocus=!1,this.isColumnAggregationHover=!1,this.isColumnAggregationTitleHover=!1,this.isColumnAggregationDataFocus=!1,this.panelItems=[{label:"Remove aggregation",value:"removeAggregation",selected:!1},{label:"Format output column",value:"formatOutputColumn",selected:!1}],this.panelItemSelected=s(this,"panelItemSelected",7),this.cascadingValueChosen=s(this,"cascadingValueChosen",7)}onSelectPanelItem(t){this.panelItems=this.panelItems.map(s=>(s.selected=t.value===s.value,s)),this.panelItemSelected.emit(t.value)}onDragStart(){this.isDragged=!0}onDragEnd(){this.isDragged=!1}onMouseOut(){this.isDropDownMouseHovering=!1}onMouseOver(){this.isDropDownMouseHovering=!0}onDropDownFocus(){this.isDropDownFocus=!0}onDropDownFocusOut(){this.isDropDownFocus=!1}onColumnAggregationTitleMouseOver(){this.isColumnAggregationTitleHover=!0,this.isColumnAggregationHover=!0,this.isColumnAggregationDataFocus=!1}onColumnAggregationTitleMouseOut(){this.isColumnAggregationTitleHover=!1,this.isColumnAggregationHover=!1}onColumnAggregationDataFocus(){this.isColumnAggregationDataFocus=!0}onColumnAggregationDataFocusOut(){this.isColumnAggregationDataFocus=!1}render(){const t=["dds-column-aggregation__title",this.isColumnAggregationTitleHover?"dds-column-aggregation__title--hover":void 0,this.isDragged?"dds-column-aggregation__title--drag":void 0].join(" "),s=["dds-column-aggregation__dropdown",this.isDropDownMouseHovering||this.isDropDownFocus?"dds-column-aggregation__dropdown--hover":void 0].join(" "),e=["dds-column-aggregation__dropdownicon",this.isDropDownMouseHovering||this.isDropDownFocus?"dds-column-aggregation__dropdownicon--hover":void 0].join(" "),n=["dds-column-aggregation",this.isColumnAggregationHover?"dds-column-aggregation--hover":void 0].join(" ");return o(i,{class:n,disabled:this.isDragged},o("div",{class:t,onDragStart:()=>this.onDragStart(),onDragEnd:()=>this.onDragEnd(),onMouseOut:()=>this.onColumnAggregationTitleMouseOut(),onMouseOver:()=>this.onColumnAggregationTitleMouseOver()},o("dds-column-label",{label:this.columnLabel,name:this.columnName,datatype:this.columnDataType}),o("dds-popper",{popperOptions:{placement:"bottom-end",modifiers:this.modifiers},class:"dds-column-aggregation__popper"},o("dds-popper-anchor",null,o("button",{class:s,onMouseOut:()=>this.onMouseOut(),onMouseOver:()=>this.onMouseOver(),onFocus:()=>this.onDropDownFocus(),onBlur:()=>this.onDropDownFocusOut()},o("dds-icon",{icon:"triple-dot",class:e}))),o("dds-popper-content",null,o("dds-panel",null,this.panelItems.map(t=>o("dds-list-item",{selected:t.selected,class:"dds-panel__item",onClick:this.onSelectPanelItem.bind(this,t)},t.label)))))),o("dds-cascader",{class:"dds-cascading-panel",placeholder:"click menu",options:this.cascadingMenu,onNodeSelected:t=>this.cascadingValueChosen.emit(t.detail)}))}static get style(){return".dds-column-aggregation{display:block;border-radius:8px}.dds-column-aggregation--hover .dds-input{border-bottom:1px solid var(--color-purple-04);border-right:1px solid var(--color-purple-04);border-left:1px solid var(--color-purple-04)}.dds-column-aggregation__title{background-color:var(--color-grey-10);border-top:1px solid var(--color-grey-08);border-right:1px solid var(--color-grey-08);border-left:1px solid var(--color-grey-08);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:8px 8px 0 0;height:28px;display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;padding:2px 6px 2px 6px}.dds-column-aggregation__title--hover{cursor:-webkit-grab;cursor:grab;border-top:1px solid var(--color-purple-04);border-right:1px solid var(--color-purple-04);border-left:1px solid var(--color-purple-04)}.dds-column-aggregation__title:active{cursor:-webkit-grab;cursor:grab}.dds-column-aggregation__title--drag,.dds-column-aggregation__title--drag:active{background:var(--color-purple-07);border-radius:8px;-webkit-box-shadow:var(--elevation-04);box-shadow:var(--elevation-04);cursor:-webkit-grabbing;cursor:grabbing}.dds-column-aggregation__data{background-color:var(--color-grey-11);-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 8px 8px;height:28px;padding:2px 6px}.dds-column-aggregation__data--focus{border:1px solid var(--color-blue-04)}.dds-column-aggregation__dropdown{border-radius:33px;-webkit-box-sizing:border-box;box-sizing:border-box;width:24px;height:24px;padding:0;background-color:var(--color-grey-10);border:none}.dds-column-aggregation__dropdown--hover{border:none;background:var(--color-blue-07);cursor:pointer}.dds-input{background-color:var(--color-grey-11);border:var(--border-default);border-radius:var(--border-radius-02);display:-ms-flexbox;display:flex;-webkit-box-sizing:border-box;box-sizing:border-box}.dds-column-aggregation__dropdown:active{background:var(--color-blue-07);cursor:pointer}.dds-column-aggregation__dropdownicon{width:18px;height:18px;padding-bottom:2px}.dds-column-aggregation__dropdownicon--hover{color:var(--color-blue-04)}.dds-column-aggregation__dropdownicon--hover:active,.dds-column-aggregation__dropdownicon:active{color:var(--color-blue-03)}.dds-column-aggregation__popper{margin-left:auto;z-index:1}.dds-column-aggregation__pannel{background:var(--color-grey-11);margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;-webkit-box-shadow:0 1px 4px var(--color-shade-07);box-shadow:0 1px 4px var(--color-shade-07)}.dds-panel__item{list-style-type:none}.dds-pannel__listitem:hover{color:var(--color-blue-02);border-left-color:var(--color-primary-05);border-left-style:solid;cursor:pointer}.dds-cascading-panel{height:100%;padding:0}.no-display{display:none}dds-column-aggregation dds-cascader .dds-input{border-radius:0 0 8px 8px;height:28px;padding:2px 6px}dds-column-aggregation dds-popper-anchor{display:grid}"}};export{e as dds_column_aggregation};